{"version":3,"sources":["js/auth.js","js/burger.js","js/ed.js","js/login.js","js/portfolio.js","js/work.js"],"names":["Auth","constructor","document","querySelector","style","display","auth","localStorage","getItem","this","validateAuth","window","location","replace","logOut","removeItem","navSlide","burger","nav","navLinks","querySelectorAll","href","indexOf","addEventListener","classList","toggle","forEach","link","index","animation","edURL","coursesEl","getElementById","addEl","schoolEl","nameEl","startEl","endEl","updateEl","updateFormEl","getEd","innerHTML","fetch","then","response","json","data","console","log","course","school","name","startDate","endDate","id","e","preventDefault","addEd","addForm","value","JSON","stringify","method","body","catch","error","fillUpdateForm","close","closeUpEl","closeAddEl","updateEd","urlID","schoolUpEl","nameUpEl","startUpEl","endUpEl","update","reload","deleteEd","confirm","loginURL","userEl","pwEl","loginEl","errorEl","login","loginDetails","user","pw","status","setItem","pfURL","portfolioEl","addPortfolioEl","pfTitleEl","linkEl","descEl","getPortfolio","pf","title","url","description","addPortfolio","portfolio","fillPFUpdateForm","updatePortfolio","pfTitleUpEl","linkUpEl","descUpEl","deletePortfolio","workURL","workEl","addWorkEl","companyEl","titleEl","workStartEl","workEndEl","getWork","work","company","addWork","fillWorkUpdateForm","updateWork","companyUpEl","titleUpEl","workStartUpEl","workEndUpEl","deleteWork"],"mappings":"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","file":"../src/main.js","sourcesContent":["\"use strict\"\r\n\r\n//Authentication class for login\r\nclass Auth {\r\n\tconstructor() {\r\n        document.querySelector(\"main\").style.display = \"none\";\r\n\t\tconst auth = localStorage.getItem(\"authentication\");\r\n\t\tthis.validateAuth(auth);\r\n\t}\r\n\r\n\tvalidateAuth(auth) {\r\n\t\tif (auth != 'true') {\r\n\t\t\twindow.location.replace(\"login.html\");\r\n\t\t} else {\r\n            document.querySelector(\"main\").style.display = \"block\";\r\n\t\t}\r\n\t}\r\n\r\n\tlogOut() {\r\n\t\tlocalStorage.removeItem(\"authentication\");\r\n\t\twindow.location.replace(\"login.html\");\r\n\t}\r\n}","\"use strict\";\r\n\r\n//Burger function\r\nlet navSlide = () => {\r\n\r\n    //Variables\r\n    let burger = document.querySelector('.burgernav');\r\n    let nav = document.querySelector('.nav-links');\r\n    let navLinks = document.querySelectorAll('.nav-links li');\r\n\r\n    //Check if on login page\r\n    if(window.location.href.indexOf('login') >- 1) {\r\n        burger.style.display = \"none\";\r\n    }else {\r\n        burger.style.display = \"block\";\r\n    }\r\n\r\n    //Eventlistener\r\n    burger.addEventListener('click', () => {\r\n        //Toggle nav\r\n        nav.classList.toggle('nav-active');\r\n\r\n        //Animate links\r\n        navLinks.forEach((link, index) => {\r\n            if (link.style.animation) {\r\n                link.style.animation = \"\";\r\n            }\r\n            else {\r\n                link.style.animation = `navLinkFade 0.5s ease forwards ${index / 5 + 0.5}s`;\r\n            }\r\n        });\r\n\r\n        //Burger Animation\r\n        burger.classList.toggle('toggle');\r\n    });\r\n}\r\n\r\n//Call function\r\nnavSlide();","\"use strict\"\r\n\r\n//Variables --------------------------------------------------------------------------\r\n\r\n//Rest API url\r\nconst edURL = \"https://devlie.se/dt173g%20-%20Webbutveckling%20III/Projekt%20-%20CV/API/education.php\";\r\n\r\n//List\r\nconst coursesEl = document.getElementById(\"courses\");\r\n\r\n//Add\r\nconst addEl = document.getElementById(\"add\");\r\nconst schoolEl = document.getElementById(\"school\");\r\nconst nameEl = document.getElementById(\"name\");\r\nconst startEl = document.getElementById(\"start\");\r\nconst endEl = document.getElementById(\"end\");\r\n\r\n//Update\r\nconst updateEl = document.getElementById(\"update\");\r\nconst updateFormEl = document.getElementById(\"updateForm\");\r\n\r\n\r\n//Eventlisteners\r\nif (window.location.href.indexOf('education') >- 1) {\r\n    window.addEventListener(\"load\", getEd);\r\n}\r\n\r\nif (addEl != null) {\r\n    addEl.addEventListener(\"click\", function(e) {\r\n        e.preventDefault();\r\n        addEd();\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//Get Education\r\nfunction getEd () {\r\n    coursesEl.innerHTML = \"\";\r\n\r\n    //Fetch request\r\n    fetch(edURL)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n\r\n            //Table headers\r\n            coursesEl.innerHTML +=\r\n            `\r\n            <tr>\r\n                <th>School:</th>\r\n                <th>Course name:</th>\r\n                <th>Start Date:</th>\r\n                <th>End Date:</th>\r\n\r\n                <th>Edit</th>\r\n                <th>Delete</th>\r\n            </tr>\r\n           \r\n            `\r\n\r\n            //Table content data\r\n            data.forEach(course => {\r\n                coursesEl.innerHTML +=\r\n                 `\r\n                 <tr >\r\n                    <td> ${course.school} </td>\r\n                    <td> ${course.name} </td>\r\n                    <td> ${course.startDate} </td>\r\n                    <td>${course.endDate}</td>\r\n\r\n                    <td><button id=\"edit\" title=\"Edit\" onclick=\"fillUpdateForm(${course.id})\"><img src=\"./pics/edit.png\" alt=\"Edit\"></button></td>\r\n                    <td><button id=\"delete\" title=\"Delete\" onclick=\"deleteEd(${course.id})\"><img src=\"./pics/delete.png\" alt=\"Delete\"></button></td>\r\n                </tr>\r\n                \r\n                 `\r\n            })\r\n        })\r\n}\r\n\r\n\r\n//Add form\r\nlet addForm =() => {\r\n    const addFormEl = document.getElementById(\"addForm\");\r\n\r\n    addFormEl.style.display = \"block\";\r\n}\r\n\r\n\r\n//Add education to the REST API\r\nlet addEd = () => {\r\n    //Form variables\r\n    let school = schoolEl.value;\r\n    let name = nameEl.value;\r\n    let start = startEl.value;\r\n    let end = endEl.value;\r\n\r\n    let course = {'school': school, 'name': name, 'startDate': start, 'endDate': end};\r\n\r\n    console.log(JSON.stringify(course));\r\n\r\n    //Fetch request\r\n    fetch(edURL, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(course),\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        console.log(json);\r\n        getEd();\r\n\r\n        let addFormEl = document.getElementById('addForm');\r\n        addFormEl.style.display = \"none\";\r\n    })\r\n    .catch(error => console.log(error)\r\n    );\r\n}\r\n\r\n\r\n//Fill update form\r\nfunction fillUpdateForm (id) {\r\n\r\n    \r\n    updateFormEl.style.display = \"block\";\r\n\r\n    let urlID = edURL + \"?id=\" + id;\r\n\r\n    //Fetch request\r\n    fetch(urlID)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        console.log(data);\r\n\r\n\r\n\r\n        //Table content data\r\n        data.forEach(course => {\r\n            updateEl.innerHTML += \r\n            `\r\n                <h2>Education - Edit</h2>\r\n                \r\n                <label for=\"schoolUp\">School:</label><br>\r\n                <input type=\"text\" id=\"schoolUp\" name=\"schoolUp\" value=\"${course.school}\">\r\n        \r\n                <label for=\"nameUp\">Course name:</label><br>\r\n                <input type=\"text\" id=\"nameUp\" name=\"nameUp\" value=\"${course.name}\"><br>\r\n        \r\n                <label for=\"startUp\">Start Date:</label><br>\r\n                <input type=\"text\" id=\"startUp\" name=\"startUp\" value=\"${course.startDate}\">\r\n        \r\n                <label for=\"endUp\">End Date:</label><br>\r\n                <input type=\"text\" id=\"endUp\" name=\"endUp\" value=\"${course.endDate}\">\r\n        \r\n                <input type=\"submit\" value=\"Update\" id=\"up\" onclick=\"event.preventDefault(); updateEd(`+ id + `)\">\r\n                <input type=\"submit\" value=\"Close\" id=\"closeUp\" onclick=\"close()\">\r\n            \r\n            `\r\n        })\r\n    })\r\n}\r\n\r\n//Function to close form\r\nfunction close () {\r\n    const closeUpEl = document.getElementById(\"closeUp\");\r\n    const closeAddEl = document.getElementById(\"closeAdd\");\r\n\r\n    closeUpEl.style.display = \"none\";\r\n    closeAddEl.style.display = \"none\";\r\n}\r\n\r\n\r\n//Update education to the REST API\r\nfunction updateEd (id) {\r\n        \r\n    let urlID = edURL + \"?id=\" + id;\r\n\r\n    //Update\r\n    const schoolUpEl = document.getElementById(\"schoolUp\");\r\n    const nameUpEl = document.getElementById(\"nameUp\");\r\n    const startUpEl = document.getElementById(\"startUp\");\r\n    const endUpEl = document.getElementById(\"endUp\");\r\n\r\n    //Form variables\r\n    let schoolUp = schoolUpEl.value;\r\n    let nameUp = nameUpEl.value;\r\n    let startUp = startUpEl.value;\r\n    let endUp = endUpEl.value;\r\n\r\n    let update = {'school': schoolUp, 'name': nameUp, 'startDate': startUp, 'endDate': endUp};\r\n\r\n    console.log(JSON.stringify(update));\r\n\r\n    //Fetch request\r\n    fetch(urlID, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(update),\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        console.log(json);\r\n        getEd();\r\n    })\r\n    .catch(error => console.log(error)\r\n    );\r\n    \r\n    updateFormEl.style.display = \"none\";\r\n\r\n    location.reload();\r\n}\r\n\r\n\r\nfunction deleteEd (id) {\r\n\r\n    //Delete check\r\n    if (confirm('Are you sure you want to delete this post?')) {\r\n        \r\n        let urlID = edURL + \"?id=\" + id;\r\n\r\n        //Fetch request\r\n        fetch(urlID, {\r\n            method: \"DELETE\"\r\n        })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            console.log(json);\r\n            getEd();\r\n        })\r\n        .catch(error => console.log(error)\r\n        );\r\n    } \r\n\r\n    \r\n}","\"use strict\"\r\n\r\n//Rest API url\r\nconst loginURL = \"https://devlie.se/dt173g%20-%20Webbutveckling%20III/Projekt%20-%20CV/API/login.php\";\r\n\r\n//Variables\r\nconst userEl = document.getElementById(\"username\");\r\nconst pwEl = document.getElementById(\"pw\");\r\nconst loginEl = document.getElementById(\"login\");\r\nconst errorEl = document.getElementById(\"error\");\r\n\r\n//Eventlisteners\r\nif (loginEl != null) {\r\n    loginEl.addEventListener(\"click\", function(e) {\r\n        e.preventDefault();\r\n        login();\r\n    });\r\n}\r\n\r\n//Login function\r\nfunction login () {\r\n\r\n    const user = userEl.value;\r\n    const pw = pwEl.value;\r\n\r\n    let loginDetails = {'user': user, 'pw': pw};\r\n\r\n    //Fetch request\r\n    fetch(loginURL, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(loginDetails),\r\n    })\r\n    .then(response => response.status)\r\n    .then(status => {\r\n        console.log(status);\r\n\r\n        if (status == 200) {\r\n            localStorage.setItem('authentication', 'true');\r\n            window.location.replace('index.html');\r\n        }\r\n        else {\r\n            errorEl.innerHTML = '<p>Error. Try again!';\r\n        }\r\n    })\r\n    .catch(error => console.log(error)\r\n    );\r\n}\r\n\r\n\r\n\r\n","\"use strict\"\r\n\r\n//Variables --------------------------------------------------------------------------\r\n\r\n//Rest API url\r\nconst pfURL = \"https://devlie.se/dt173g%20-%20Webbutveckling%20III/Projekt%20-%20CV/API/portfolio.php\";\r\n\r\n//List\r\nconst portfolioEl = document.getElementById(\"portfolio\");\r\n\r\n//Add\r\nconst addPortfolioEl = document.getElementById(\"addPortfolio\");\r\nconst pfTitleEl = document.getElementById(\"pfTitle\");\r\nconst linkEl = document.getElementById(\"link\");\r\nconst descEl = document.getElementById(\"desc\");\r\n\r\n\r\n//Eventlisteners\r\nif (window.location.href.indexOf('portfolio') >- 1) {\r\n    window.addEventListener(\"load\", getPortfolio);\r\n}\r\n\r\nif (addPortfolioEl != null) {\r\n    addPortfolioEl.addEventListener(\"click\", function(e) {\r\n        e.preventDefault();\r\n        addPortfolio();\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n//Get Portfolio\r\nfunction getPortfolio () {\r\n    portfolioEl.innerHTML = \"\";\r\n\r\n    //Fetch request\r\n    fetch(pfURL)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n\r\n            //Table headers\r\n            portfolioEl.innerHTML +=\r\n            `\r\n            <tr>\r\n                <th>Title:</th>\r\n                <th>Link:</th>\r\n                <th>Description:</th>\r\n\r\n                <th>Edit</th>\r\n                <th>Delete</th>\r\n            </tr>\r\n           \r\n            `\r\n\r\n            //Table content data\r\n            data.forEach(pf => {\r\n                portfolioEl.innerHTML +=\r\n                 `\r\n                 <tr >\r\n                    <td> ${pf.title} </td>\r\n                    <td> <a href=\" ${pf.url} \">Link</a></td>\r\n                    <td> ${pf.description} </td>\r\n\r\n                    <td><button id=\"edit\" title=\"Edit\" onclick=\"fillPFUpdateForm(${pf.id})\"><img src=\"./pics/edit.png\" alt=\"Edit\"></button></td>\r\n                    <td><button id=\"delete\" title=\"Delete\" onclick=\"deletePortfolio(${pf.id})\"><img src=\"./pics/delete.png\" alt=\"Delete\"></button></td>\r\n                </tr>\r\n                \r\n                 `\r\n            })\r\n        })\r\n}\r\n\r\n\r\n\r\n//Add portfolio to the REST API\r\nlet addPortfolio = () => {\r\n    //Form variables\r\n    let title = pfTitleEl.value;\r\n    let link = linkEl.value;\r\n    let desc = descEl.value;\r\n\r\n    let portfolio = {'title': title, 'url': link, 'description': desc};\r\n\r\n    console.log(JSON.stringify(portfolio));\r\n\r\n    //Fetch request\r\n    fetch(pfURL, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(portfolio),\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        console.log(json);\r\n        getPortfolio();\r\n\r\n        let addFormEl = document.getElementById('addForm');\r\n        addFormEl.style.display = \"none\";\r\n\r\n    })\r\n    .catch(error => console.log(error)\r\n    );\r\n}\r\n\r\n\r\n//Fill update form\r\nfunction fillPFUpdateForm (id) {\r\n\r\n    \r\n    updateFormEl.style.display = \"block\";\r\n\r\n    let urlID = pfURL + \"?id=\" + id;\r\n\r\n    //Fetch request\r\n    fetch(urlID)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        console.log(data);\r\n\r\n\r\n\r\n        //Table content data\r\n        data.forEach(pf => {\r\n            updateEl.innerHTML += \r\n            `\r\n                <h2>Portfolio - Edit</h2>\r\n\r\n                <label for=\"pfTitleUp\">Title:</label><br>\r\n                <input type=\"text\" id=\"pfTitleUp\" name=\"pfTitleUp\" value=\"${pf.title}\">\r\n        \r\n                <label for=\"linkUp\">Link:</label><br>\r\n                <input type=\"text\" id=\"linkUp\" name=\"linkUp\" value=\"${pf.url}\"><br>\r\n        \r\n                <label for=\"descUp\">Description:</label><br>\r\n                <input type=\"text\" id=\"descUp\" name=\"descUp\" value=\"${pf.description}\">\r\n        \r\n        \r\n                <input type=\"submit\" value=\"Update\" id=\"portfolioUp\" onclick=\"event.preventDefault(); updatePortfolio(`+ id + `)\">\r\n                <input type=\"submit\" value=\"Close\" id=\"closeUp\" onclick=\"close()\">\r\n            \r\n            `\r\n        })\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\n//Update portfolio to the REST API\r\nfunction updatePortfolio (id) {\r\n        \r\n    let urlID = pfURL + \"?id=\" + id;\r\n\r\n    //Update\r\n    const pfTitleUpEl = document.getElementById(\"pfTitleUp\");\r\n    const linkUpEl = document.getElementById(\"linkUp\");\r\n    const descUpEl = document.getElementById(\"descUp\");\r\n\r\n    //Form variables\r\n    let pfTitleUp = pfTitleUpEl.value;\r\n    let linkUp = linkUpEl.value;\r\n    let descUp = descUpEl.value;\r\n\r\n    let update = {'title': pfTitleUp, 'url': linkUp, 'description': descUp};\r\n\r\n    console.log(JSON.stringify(update));\r\n\r\n    //Fetch request\r\n    fetch(urlID, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(update),\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        console.log(json);\r\n        getPortfolio();\r\n    })\r\n    .catch(error => console.log(error)\r\n    );\r\n    \r\n    updateFormEl.style.display = \"none\";\r\n\r\n    location.reload();\r\n}\r\n\r\n\r\n//Delete portfolio\r\nfunction deletePortfolio (id) {\r\n\r\n    //Delete check\r\n    if (confirm('Are you sure you want to delete this post?')) {\r\n        \r\n        let urlID = pfURL + \"?id=\" + id;\r\n\r\n        //Fetch request\r\n        fetch(urlID, {\r\n            method: \"DELETE\"\r\n        })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            console.log(json);\r\n            getPortfolio();\r\n        })\r\n        .catch(error => console.log(error)\r\n        );\r\n    } \r\n\r\n    \r\n}","\"use strict\"\r\n\r\n//Variables --------------------------------------------------------------------------\r\n\r\n//Rest API url\r\nconst workURL = \"https://devlie.se/dt173g%20-%20Webbutveckling%20III/Projekt%20-%20CV/API/work.php\";\r\n\r\n//List\r\nconst workEl = document.getElementById(\"work\");\r\n\r\n//Add\r\nconst addWorkEl = document.getElementById(\"addWork\");\r\nconst companyEl = document.getElementById(\"company\");\r\nconst titleEl = document.getElementById(\"title\");\r\nconst workStartEl = document.getElementById(\"workStart\");\r\nconst workEndEl = document.getElementById(\"workEnd\");\r\n\r\n\r\n//Eventlisteners\r\nif (window.location.href.indexOf('work') >- 1) {\r\n    window.addEventListener(\"load\", getWork);\r\n}\r\n\r\nif (addWorkEl != null) {\r\n    addWorkEl.addEventListener(\"click\", function(e) {\r\n        e.preventDefault();\r\n        addWork();\r\n    });\r\n}\r\n\r\n\r\n\r\n//Get Work\r\nfunction getWork () {\r\n    workEl.innerHTML = \"\";\r\n\r\n    //Fetch request\r\n    fetch(workURL)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n\r\n            //Table headers\r\n            workEl.innerHTML +=\r\n            `\r\n            <tr>\r\n                <th>Company:</th>\r\n                <th>Title:</th>\r\n                <th>Start Date:</th>\r\n                <th>End Date:</th>\r\n\r\n                <th>Edit</th>\r\n                <th>Delete</th>\r\n            </tr>\r\n           \r\n            `\r\n\r\n            //Table content data\r\n            data.forEach(work => {\r\n                workEl.innerHTML +=\r\n                 `\r\n                 <tr>\r\n                    <td> ${work.company} </td>\r\n                    <td> ${work.title} </td>\r\n                    <td> ${work.startDate} </td>\r\n                    <td>${work.endDate}</td>\r\n\r\n                    <td><button id=\"edit\" title=\"Edit\" onclick=\"fillWorkUpdateForm(${work.id})\"><img src=\"./pics/edit.png\" alt=\"Edit\"></button></td>\r\n                    <td><button id=\"delete\" title=\"Delete\" onclick=\"deleteWork(${work.id})\"><img src=\"./pics/delete.png\" alt=\"Delete\"></button></td>\r\n                </tr>\r\n                \r\n                 `\r\n            })\r\n        })\r\n}\r\n\r\n\r\n\r\n\r\n\r\n//Add work to the REST API\r\nlet addWork = () => {\r\n    //Form variables\r\n    let company = companyEl.value;\r\n    let title = titleEl.value;\r\n    let start = workStartEl.value;\r\n    let end = workEndEl.value;\r\n\r\n    let work = {'company': company, 'title': title, 'startDate': start, 'endDate': end};\r\n\r\n    console.log(JSON.stringify(work));\r\n\r\n    //Fetch request\r\n    fetch(workURL, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(work),\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        console.log(json);\r\n        getWork();\r\n\r\n        let addFormEl = document.getElementById('addForm');\r\n        addFormEl.style.display = \"none\";\r\n    })\r\n    .catch(error => console.log(error)\r\n    );\r\n}\r\n\r\n\r\n//Fill update form\r\nfunction fillWorkUpdateForm (id) {\r\n\r\n    \r\n    updateFormEl.style.display = \"block\";\r\n\r\n    let urlID = workURL + \"?id=\" + id;\r\n\r\n    //Fetch request\r\n    fetch(urlID)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        console.log(data);\r\n\r\n\r\n\r\n        //Table content data\r\n        data.forEach(work => {\r\n            updateEl.innerHTML += \r\n            `\r\n                <h2>Work - Edit</h2>\r\n\r\n                <label for=\"companyUp\">Company:</label><br>\r\n                <input type=\"text\" id=\"companyUp\" name=\"companyUp\" value=\"${work.company}\">\r\n        \r\n                <label for=\"titleUp\">Title:</label><br>\r\n                <input type=\"text\" id=\"titleUp\" name=\"titleUp\" value=\"${work.title}\"><br>\r\n        \r\n                <label for=\"workStartUp\">Start Date:</label><br>\r\n                <input type=\"text\" id=\"workStartUp\" name=\"workStartUp\" value=\"${work.startDate}\">\r\n        \r\n                <label for=\"workEndUp\">End Date:</label><br>\r\n                <input type=\"text\" id=\"workEndUp\" name=\"workEndUp\" value=\"${work.endDate}\">\r\n        \r\n                <input type=\"submit\" value=\"Update\" id=\"workUp\" onclick=\"event.preventDefault(); updateWork(`+ id + `)\">\r\n                <input type=\"submit\" value=\"Close\" id=\"closeUp\" onclick=\"close()\">\r\n            \r\n            `\r\n        })\r\n    })\r\n}\r\n\r\n\r\n\r\n//Update work to the REST API\r\nfunction updateWork (id) {\r\n        \r\n    let urlID = workURL + \"?id=\" + id;\r\n\r\n    //Update\r\n    const companyUpEl = document.getElementById(\"companyUp\");\r\n    const titleUpEl = document.getElementById(\"titleUp\");\r\n    const workStartUpEl = document.getElementById(\"workStartUp\");\r\n    const workEndUpEl = document.getElementById(\"workEndUp\");\r\n\r\n    //Form variables\r\n    let companyUp = companyUpEl.value;\r\n    let titleUp = titleUpEl.value;\r\n    let workStartUp = workStartUpEl.value;\r\n    let workEndUp = workEndUpEl.value;\r\n\r\n    let update = {'company': companyUp, 'title': titleUp, 'startDate': workStartUp, 'endDate': workEndUp};\r\n\r\n    console.log(JSON.stringify(update));\r\n\r\n    //Fetch request\r\n    fetch(urlID, {\r\n        method: \"PUT\",\r\n        body: JSON.stringify(update),\r\n    })\r\n    .then(response => response.json())\r\n    .then(json => {\r\n        console.log(json);\r\n        getWork();\r\n    })\r\n    .catch(error => console.log(error)\r\n    );\r\n    \r\n    updateFormEl.style.display = \"none\";\r\n\r\n    location.reload();\r\n}\r\n\r\n//Delete work\r\nfunction deleteWork (id) {\r\n\r\n    //Delete check\r\n    if (confirm('Are you sure you want to delete this post?')) {\r\n        \r\n        let urlID = workURL + \"?id=\" + id;\r\n\r\n        //Fetch request\r\n        fetch(urlID, {\r\n            method: \"DELETE\"\r\n        })\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            console.log(json);\r\n            getWork();\r\n        })\r\n        .catch(error => console.log(error)\r\n        );\r\n    } \r\n\r\n    \r\n}"]}